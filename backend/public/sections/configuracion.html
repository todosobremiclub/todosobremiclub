<section id="configuracion-section">

  <h2 style="margin-bottom: 12px;">Configuraci√≥n del Sistema</h2>

  <!-- CUOTAS -->
  <div class="config-card config-collapsible collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3 style="margin:0;">üí∞ Monto de cuota por mes</h3>
    </div>

    <div class="config-content">
      <table class="config-table">
        <thead>
          <tr>
            <th style="width:30%;">Mes</th>
            <th style="width:40%;">Monto ($)</th>
            <th style="width:30%;">Guardar</th>
          </tr>
        </thead>
        <tbody id="cuotasTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- CATEGOR√çAS -->
  <div class="config-card config-collapsible collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3 style="margin:0;">üè∑Ô∏è Categor√≠as deportivas</h3>
    </div>

    <div class="config-content">
      <div style="display:flex; gap:8px; margin-bottom:10px;">
        <input id="newCategoriaNombre" placeholder="Nombre">
        <button id="btnCategoriaAdd" class="btn-add">‚ûï Agregar</button>
      </div>

      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Guardar</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="categoriasTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- TIPOS DE GASTO -->
  <div class="config-card config-collapsible collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3 style="margin:0;">üßæ Tipos de gasto</h3>
    </div>

    <div class="config-content">
      <div style="display:flex; gap:8px; margin-bottom:10px;">
        <input id="newTipoGastoNombre" placeholder="Nombre">
        <button id="btnTipoGastoAdd" class="btn-add">‚ûï Agregar</button>
      </div>

      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Guardar</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="tiposGastoTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- TIPOS DE INGRESO -->
  <div class="config-card config-collapsible collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3 style="margin:0;">üíµ Tipos de ingreso</h3>
    </div>

    <div class="config-content">
      <div style="display:flex; gap:8px; margin-bottom:10px;">
        <input id="newTipoIngresoNombre" placeholder="Nombre">
        <button id="btnTipoIngresoAdd" class="btn-add">‚ûï Agregar</button>
      </div>

      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="tiposIngresoTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- RESPONSABLES -->
  <div class="config-card config-collapsible collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3 style="margin:0;">üë§ Responsables (qui√©n realiz√≥ el gasto)</h3>
    </div>

    <div class="config-content">
      <div style="display:flex; gap:8px; margin-bottom:10px;">
        <input id="newResponsableNombre" placeholder="Nombre">
        <button id="btnResponsableAdd" class="btn-add">‚ûï Agregar</button>
      </div>

      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Guardar</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="responsablesTableBody"></tbody>
      </table>
    </div>
  </div>

</section>

<style>
.config-header {
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
}

.config-collapsible .arrow {
  transition: transform .2s ease;
}

.config-collapsible.collapsed .arrow {
  transform: rotate(0deg);
}

.config-collapsible:not(.collapsed) .arrow {
  transform: rotate(90deg);
}

.config-collapsible.collapsed .config-content {
  display: none;
}
</style>

<script>
/* EVENT DELEGATION ‚Äì FUNCIONA SIEMPRE */
document.addEventListener('click', function (e) {
  const header = e.target.closest('.config-header');
  if (!header) return;

  const card = header.closest('.config-collapsible');
  if (!card) return;

  card.classList.toggle('collapsed');
});
</script>