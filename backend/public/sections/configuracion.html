<section id="configuracion-section">

  <h2 style="margin-bottom: 12px;">Configuraci√≥n del Sistema</h2>

  <!-- CUOTAS -->
  <div class="config-section collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3>üí∞ Monto de cuota por mes</h3>
    </div>
    <div class="config-body">
      <table class="config-table">
        <thead>
          <tr>
            <th style="width:30%;">Mes</th>
            <th style="width:40%;">Monto ($)</th>
            <th style="width:30%;">Guardar</th>
          </tr>
        </thead>
        <tbody id="cuotasTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- CATEGOR√çAS -->
  <div class="config-section collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3>üè∑Ô∏è Categor√≠as deportivas</h3>
    </div>
    <div class="config-body">
      <div class="inline-add">
        <input id="newCategoriaNombre" placeholder="Nombre">
        <button id="btnCategoriaAdd" class="btn-add">‚ûï Agregar</button>
      </div>
      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Guardar</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="categoriasTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- TIPOS DE GASTO -->
  <div class="config-section collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3>üßæ Tipos de gasto</h3>
    </div>
    <div class="config-body">
      <div class="inline-add">
        <input id="newTipoGastoNombre" placeholder="Nombre">
        <button id="btnTipoGastoAdd" class="btn-add">‚ûï Agregar</button>
      </div>
      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Guardar</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="tiposGastoTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- TIPOS DE INGRESO -->
  <div class="config-section collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3>üíµ Tipos de ingreso</h3>
    </div>
    <div class="config-body">
      <div class="inline-add">
        <input id="newTipoIngresoNombre" placeholder="Nombre">
        <button id="btnTipoIngresoAdd" class="btn-add">‚ûï Agregar</button>
      </div>
      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="tiposIngresoTableBody"></tbody>
      </table>
    </div>
  </div>

  <!-- RESPONSABLES -->
  <div class="config-section collapsed">
    <div class="config-header">
      <span class="arrow">‚ñ∂</span>
      <h3>üë§ Responsables</h3>
    </div>
    <div class="config-body">
      <div class="inline-add">
        <input id="newResponsableNombre" placeholder="Nombre">
        <button id="btnResponsableAdd" class="btn-add">‚ûï Agregar</button>
      </div>
      <table class="config-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th style="width:90px;">Guardar</th>
            <th style="width:90px;">Eliminar</th>
          </tr>
        </thead>
        <tbody id="responsablesTableBody"></tbody>
      </table>
    </div>
  </div>

</section>

<style>
.config-section {
  background: rgba(255,255,255,.92);
  border-radius: 12px;
  margin-top: 16px;
  border: 1px solid #e5e7eb;
  max-width: 950px;
}
.config-header {
  display:flex;
  align-items:center;
  gap:10px;
  padding:14px 16px;
  cursor:pointer;
  background:#f9fafb;
}
.config-header .arrow {
  transition: transform .2s ease;
}
.config-section.collapsed .arrow { transform: rotate(0deg); }
.config-section:not(.collapsed) .arrow { transform: rotate(90deg); }
.config-body { padding:16px; }
.config-section.collapsed .config-body { display:none; }
.inline-add { display:flex; gap:8px; margin-bottom:12px; }
.inline-add input { flex:1; padding:8px; }
.btn-add {
  background:#2563eb;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
}
.btn-add:hover { background:#1d4ed8; }
.config-table { width:100%; border-collapse:collapse; }
.config-table th { background:#0b3c7a; color:#fff; padding:10px; }
.config-table td { padding:10px; border-bottom:1px solid #e5e7eb; }
</style>

<script>
/* ‚úÖ EVENT DELEGATION: funciona aunque la secci√≥n se cargue din√°micamente */
document.addEventListener('click', function (e) {
  const header = e.target.closest('.config-header');
  if (!header) return;

  const section = header.closest('.config-section');
  if (!section) return;

  section.classList.toggle('collapsed');
});
</script>
