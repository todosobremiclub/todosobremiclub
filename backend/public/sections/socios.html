<section id="socios-section">

  <div class="section-header" style="align-items:center;">
    <h2 style="margin:0; font-size:18px;">Socios</h2>

    <div class="section-actions" style="display:flex; gap:10px; align-items:center;">
      <button id="btnNuevoSocio" title="Nuevo socio">‚ûï</button>
      <button id="btnExportSocios" title="Descargar Excel">üì•</button>
    </div>
  </div>

  <div class="filters">
    <input type="text" id="sociosSearch" placeholder="Buscar por Nombre, Apellido o DNI" />
    <select id="filtroCategoria">
      <option value="">Todas las categor√≠as</option>
    </select>
    <select id="filtroAnio">
      <option value="">Todos los a√±os</option>
    </select>
    <label class="checkbox">
      <input type="checkbox" id="verInactivos" />
      Ver inactivos
    </label>
    <button id="btnBuscarSocios">Buscar</button>
  </div>

  <div class="socios-info">
    <span id="sociosActivosCount">Socios activos: 0</span>
  </div>

  <div class="table-wrapper" style="overflow-x:auto;">
    <table class="socios-table" style="min-width: 1100px;">
      <thead>
        <tr>
          <th>Pago</th>
          <th>N¬∞</th>
          <th>DNI</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Categor√≠a</th>
          <th>Tel√©fono</th>
          <th>Nacimiento</th>
          <th>A√±o</th>
          <th>Ingreso</th>
          <th>Activo</th>
          <th>Becado</th>
          <th>Foto</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="sociosTableBody"></tbody>
    </table>
  </div>

  <!-- MODAL SOCIO -->
  <div id="modalSocio" class="modal hidden">
    <div class="modal-content">
      <h3 id="modalSocioTitle">Nuevo socio</h3>

      <div class="form-grid">
        <div>
          <label>N¬∞ Socio</label>
          <input type="number" id="socioNumero" placeholder="Autom√°tico si se deja vac√≠o" />
        </div>
        <div>
          <label>DNI *</label>
          <input type="text" id="socioDni" required />
        </div>
        <div>
          <label>Nombre *</label>
          <input type="text" id="socioNombre" required />
        </div>
        <div>
          <label>Apellido *</label>
          <input type="text" id="socioApellido" required />
        </div>
        <div>
          <label>Categor√≠a *</label>
          <input type="text" id="socioCategoria" required />
        </div>
        <div>
          <label>Tel√©fono</label>
          <input type="text" id="socioTelefono" />
        </div>
        <div>
          <label>Fecha de nacimiento *</label>
          <input type="date" id="socioNacimiento" required />
        </div>
        <div>
          <label>Fecha de ingreso</label>
          <input type="date" id="socioIngreso" />
        </div>

        <div class="checkbox">
          <label><input type="checkbox" id="socioActivo" checked /> Activo</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" id="socioBecado" /> Becado</label>
        </div>
      </div>

      <div class="modal-actions">
        <button id="btnCancelarSocio">Cancelar</button>
        <button id="btnGuardarSocio">Guardar</button>
      </div>
    </div>
  </div>

  <!-- MODAL CARNET DIGITAL -->
  <div id="modalCarnet" class="modal hidden">
    <div class="modal-content" style="max-width: 520px;">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h3 style="margin:0;">Carnet digital</h3>
        <button id="btnCarnetClose">‚úï</button>
      </div>

      <div style="display:flex; gap:12px; margin-top:12px; align-items:center;">
        <img id="carnetFoto" alt="Foto" style="width:90px; height:90px; border-radius:12px; object-fit:cover; border:1px solid #ddd; background:#fff;" />
        <div>
          <div id="carnetNombre" style="font-size:18px; font-weight:800;"></div>
          <div id="carnetDni" class="muted"></div>
          <div id="carnetCategoria" class="muted"></div>
          <div id="carnetPago" style="margin-top:8px;"></div>
        </div>
      </div>

      <div style="margin-top:12px;">
        <div class="muted" id="carnetExtra"></div>
      </div>

      <div class="modal-actions">
        <button id="btnCarnetEdit">‚úèÔ∏è Editar</button>
        <button id="btnCarnetOk">Cerrar</button>
      </div>
    </div>
  </div>

  <style>
    /* Mantener fila en una l√≠nea */
    .socios-table td, .socios-table th { white-space: nowrap; }

    .btn-icon {
      border: 0;
      background: transparent;
      cursor: pointer;
      font-size: 18px;
      padding: 4px 6px;
    }

    .pay-pill {
      display:inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 12px;
      border: 1px solid transparent;
      cursor: default;
    }

    .pay-ok { background:#dcfce7; color:#166534; border-color:#86efac; }
    .pay-bad { background:#fee2e2; color:#991b1b; border-color:#fecaca; }
  </style>
</section>
